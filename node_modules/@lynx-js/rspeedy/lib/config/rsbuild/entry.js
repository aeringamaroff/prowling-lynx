import { debug, debugList } from '../../debug.js';
const DEFAULT_ENTRY = './src/index.js';
export function toRsbuildEntry(entry) {
    // Default value
    if (entry === undefined) {
        debug(`Using default entry ${DEFAULT_ENTRY}`);
        return {
            main: DEFAULT_ENTRY,
        };
    }
    // Single entry
    if (Array.isArray(entry) || typeof entry === 'string') {
        debug(() => `Using single entry ${[''].concat(entry).join('\n    - ')}`);
        return { main: entry };
    }
    return Object.fromEntries(Object.entries(entry).map(([key, value]) => {
        if (Array.isArray(value) || typeof value === 'string') {
            debugList(`Using multiple entries - ${key}`, value);
            return [key, { import: value }];
        }
        debugList(`Using multiple entries - ${key}`, value.import ?? DEFAULT_ENTRY);
        if (value.import === undefined) {
            return [
                key,
                { ...value, import: DEFAULT_ENTRY },
            ];
        }
        return [key, value];
    }));
}
//# sourceMappingURL=entry.js.map