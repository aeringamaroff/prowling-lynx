import { getESVersionTarget } from '../utils/getESVersionTarget.js';
export function pluginSwc() {
    return {
        name: 'lynx:rsbuild:swc',
        setup(api) {
            api.modifyRsbuildConfig((config, { mergeRsbuildConfig }) => {
                return mergeRsbuildConfig(config, {
                    tools: {
                        swc(config) {
                            delete config.env;
                            config.jsc ??= {};
                            // TODO(target): use configuration
                            config.jsc.target = getESVersionTarget();
                        },
                    },
                });
            });
        },
    };
}
//# sourceMappingURL=swc.plugin.js.map